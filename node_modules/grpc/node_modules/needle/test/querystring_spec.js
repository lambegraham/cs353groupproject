var should    = require('should'),
	  stringify = require('../lib/querystring').build;

describe('stringify', function() {

	describe('with null', function() {

		it('throws', function() {
			(function() {
				var res = stringify(null);
			***REMOVED***).should.throw();
		***REMOVED***)

	***REMOVED***)

	describe('with a number', function() {

		it('throws', function() {
			(function() {
				var res = stringify(100);
			***REMOVED***).should.throw();
		***REMOVED***)

	***REMOVED***)

	describe('with a string', function() {

		describe('that is empty', function() {

			it('throws', function() {
				(function() {
					var res = stringify('');
				***REMOVED***).should.throw();
			***REMOVED***)

		***REMOVED***)

		describe('that doesnt contain an equal sign', function() {

			it('throws', function() {
				(function() {
					var res = stringify('boomshagalaga');
				***REMOVED***).should.throw();
			***REMOVED***)

		***REMOVED***)

		describe('that contains an equal sign', function() {

			it('works', function() {
				var res = stringify('hello=123');
				res.should.eql('hello=123');
			***REMOVED***)

		***REMOVED***)

	***REMOVED***)

	describe('with an array', function() {

		describe('with key val objects', function() {

			it('works', function() {
				var res = stringify([ {foo: 'bar'***REMOVED*** ]);
				res.should.eql('foo=bar');
			***REMOVED***)

		***REMOVED***)

		describe('where all elements are strings with an equal sign', function() {

			it('works', function() {
				var res = stringify([ 'bar=123', 'quux=' ]);
				res.should.eql('bar=123&quux=');
			***REMOVED***)

		***REMOVED***)

		describe('with random words', function() {

			it('throws', function() {
				(function() {
					var res = stringify(['hello', 'there']);
				***REMOVED***).should.throw();
			***REMOVED***)

		***REMOVED***)

		describe('with integers', function() {

			it('throws', function() {
				(function() {
					var res = stringify([123, 432]);
				***REMOVED***).should.throw();
			***REMOVED***)

		***REMOVED***)

	***REMOVED***)

	describe('with an object', function() {

			it('works', function() {
				var res = stringify({ test: 100 ***REMOVED***);
				res.should.eql('test=100');
			***REMOVED***)

			describe('with object where val is an array', function() {

				it('works', function() {
					var res = stringify({ foo: ['bar', 'baz'] ***REMOVED***);
					res.should.eql('foo[]=bar&foo[]=baz');
				***REMOVED***)

			***REMOVED***)

			describe('with object where val is an array of key val objects', function() {

				it('works', function() {
					var res = stringify({ foo: [{'1': 'bar'***REMOVED***, {'2': 'baz'***REMOVED***] ***REMOVED***);
					res.should.eql('foo[][1]=bar&foo[][2]=baz');
				***REMOVED***)

			***REMOVED***)

	***REMOVED***)

***REMOVED***)
