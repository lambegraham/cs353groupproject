/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.EventTargetShim={***REMOVED***))***REMOVED***)(this,function(a){"use strict";function b(a){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a***REMOVED***:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a***REMOVED***,b(a)***REMOVED***function c(a){var b=u.get(a);return console.assert(null!=b,"'this' is expected an Event object, but got",a),b***REMOVED***function d(a){return null==a.passiveListener?void(!a.event.cancelable||(a.canceled=!0,"function"==typeof a.event.preventDefault&&a.event.preventDefault())):void("undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",a.passiveListener))***REMOVED***function e(a,b){u.set(this,{eventTarget:a,event:b,eventPhase:2,currentTarget:a,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:b.timeStamp||Date.now()***REMOVED***),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0***REMOVED***);for(var c,d=Object.keys(b),e=0;e<d.length;++e)c=d[e],c in this||Object.defineProperty(this,c,f(c))***REMOVED***function f(a){return{get:function(){return c(this).event[a]***REMOVED***,set:function(b){c(this).event[a]=b***REMOVED***,configurable:!0,enumerable:!0***REMOVED******REMOVED***function g(a){return{value:function(){var b=c(this).event;return b[a].apply(b,arguments)***REMOVED***,configurable:!0,enumerable:!0***REMOVED******REMOVED***function h(a,b){function c(b,c){a.call(this,b,c)***REMOVED***var d=Object.keys(b);if(0===d.length)return a;c.prototype=Object.create(a.prototype,{constructor:{value:c,configurable:!0,writable:!0***REMOVED******REMOVED***);for(var e,h=0;h<d.length;++h)if(e=d[h],!(e in a.prototype)){var j=Object.getOwnPropertyDescriptor(b,e),k="function"==typeof j.value;Object.defineProperty(c.prototype,e,k?g(e):f(e))***REMOVED***return c***REMOVED***function i(a){if(null==a||a===Object.prototype)return e;var b=v.get(a);return null==b&&(b=h(i(Object.getPrototypeOf(a)),a),v.set(a,b)),b***REMOVED***function j(a,b){var c=i(Object.getPrototypeOf(b));return new c(a,b)***REMOVED***function k(a){return c(a).immediateStopped***REMOVED***function l(a,b){c(a).eventPhase=b***REMOVED***function m(a,b){c(a).currentTarget=b***REMOVED***function n(a,b){c(a).passiveListener=b***REMOVED***function o(a){return null!==a&&"object"===b(a)***REMOVED***function p(a){var b=w.get(a);if(null==b)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return b***REMOVED***function q(a){return{get:function(){for(var b=p(this),c=b.get(a);null!=c;){if(3===c.listenerType)return c.listener;c=c.next***REMOVED***return null***REMOVED***,set:function(b){"function"==typeof b||o(b)||(b=null);for(var c=p(this),d=null,e=c.get(a);null!=e;)3===e.listenerType?null===d?null===e.next?c.delete(a):c.set(a,e.next):d.next=e.next:d=e,e=e.next;if(null!==b){var f={listener:b,listenerType:3,passive:!1,once:!1,next:null***REMOVED***;null===d?c.set(a,f):d.next=f***REMOVED******REMOVED***,configurable:!0,enumerable:!0***REMOVED******REMOVED***function r(a,b){Object.defineProperty(a,"on".concat(b),q(b))***REMOVED***function s(a){function b(){t.call(this)***REMOVED***b.prototype=Object.create(t.prototype,{constructor:{value:b,configurable:!0,writable:!0***REMOVED******REMOVED***);for(var c=0;c<a.length;++c)r(b.prototype,a[c]);return b***REMOVED***function t(){if(this instanceof t)return void w.set(this,new Map);if(1===arguments.length&&Array.isArray(arguments[0]))return s(arguments[0]);if(0<arguments.length){for(var a=Array(arguments.length),b=0;b<arguments.length;++b)a[b]=arguments[b];return s(a)***REMOVED***throw new TypeError("Cannot call a class as a function")***REMOVED***var u=new WeakMap,v=new WeakMap;e.prototype={get type(){return c(this).event.type***REMOVED***,get target(){return c(this).eventTarget***REMOVED***,get currentTarget(){return c(this).currentTarget***REMOVED***,composedPath:function(){var a=c(this).currentTarget;return null==a?[]:[a]***REMOVED***,get NONE(){return 0***REMOVED***,get CAPTURING_PHASE(){return 1***REMOVED***,get AT_TARGET(){return 2***REMOVED***,get BUBBLING_PHASE(){return 3***REMOVED***,get eventPhase(){return c(this).eventPhase***REMOVED***,stopPropagation:function(){var a=c(this);a.stopped=!0,"function"==typeof a.event.stopPropagation&&a.event.stopPropagation()***REMOVED***,stopImmediatePropagation:function(){var a=c(this);a.stopped=!0,a.immediateStopped=!0,"function"==typeof a.event.stopImmediatePropagation&&a.event.stopImmediatePropagation()***REMOVED***,get bubbles(){return!!c(this).event.bubbles***REMOVED***,get cancelable(){return!!c(this).event.cancelable***REMOVED***,preventDefault:function(){d(c(this))***REMOVED***,get defaultPrevented(){return c(this).canceled***REMOVED***,get composed(){return!!c(this).event.composed***REMOVED***,get timeStamp(){return c(this).timeStamp***REMOVED***,get srcElement(){return c(this).eventTarget***REMOVED***,get cancelBubble(){return c(this).stopped***REMOVED***,set cancelBubble(a){if(a){var b=c(this);b.stopped=!0,"boolean"==typeof b.event.cancelBubble&&(b.event.cancelBubble=!0)***REMOVED******REMOVED***,get returnValue(){return!c(this).canceled***REMOVED***,set returnValue(a){a||d(c(this))***REMOVED***,initEvent:function(){***REMOVED******REMOVED***,Object.defineProperty(e.prototype,"constructor",{value:e,configurable:!0,writable:!0***REMOVED***),"undefined"!=typeof window&&"undefined"!=typeof window.Event&&(Object.setPrototypeOf(e.prototype,window.Event.prototype),v.set(window.Event.prototype,e));var w=new WeakMap,x=1,y=2;if(t.prototype={addEventListener:function(a,b,c){if(null!=b){if("function"!=typeof b&&!o(b))throw new TypeError("'listener' should be a function or an object.");var d=p(this),e=o(c),f=e?!!c.capture:!!c,g=f?x:y,h={listener:b,listenerType:g,passive:e&&!!c.passive,once:e&&!!c.once,next:null***REMOVED***,i=d.get(a);if(void 0===i)return void d.set(a,h);for(var j=null;null!=i;){if(i.listener===b&&i.listenerType===g)return;j=i,i=i.next***REMOVED***j.next=h***REMOVED******REMOVED***,removeEventListener:function(a,b,c){if(null!=b)for(var d=p(this),e=o(c)?!!c.capture:!!c,f=e?x:y,g=null,h=d.get(a);null!=h;){if(h.listener===b&&h.listenerType===f)return void(null===g?null===h.next?d.delete(a):d.set(a,h.next):g.next=h.next);g=h,h=h.next***REMOVED******REMOVED***,dispatchEvent:function(a){if(null==a||"string"!=typeof a.type)throw new TypeError("\"event.type\" should be a string.");var b=p(this),c=a.type,d=b.get(c);if(null==d)return!0;for(var e=j(this,a),f=null;null!=d;){if(d.once?null===f?null===d.next?b.delete(c):b.set(c,d.next):f.next=d.next:f=d,n(e,d.passive?d.listener:null),"function"==typeof d.listener)try{d.listener.call(this,e)***REMOVED***catch(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)***REMOVED***else d.listenerType!==3&&"function"==typeof d.listener.handleEvent&&d.listener.handleEvent(e);if(k(e))break;d=d.next***REMOVED***return n(e,null),l(e,0),m(e,null),!e.defaultPrevented***REMOVED******REMOVED***,Object.defineProperty(t.prototype,"constructor",{value:t,configurable:!0,writable:!0***REMOVED***),"undefined"!=typeof window&&"undefined"!=typeof window.EventTarget&&Object.setPrototypeOf(t.prototype,window.EventTarget.prototype),a.defineEventAttribute=r,a.EventTarget=t,a.default=t,Object.defineProperty(a,"__esModule",{value:!0***REMOVED***),"undefined"==typeof module&&"undefined"==typeof define){var z=Function("return this")();z.EventTargetShim=t,z.EventTargetShim.defineEventAttribute=r***REMOVED******REMOVED***);
//# sourceMappingURL=event-target-shim.umd.js.map
