/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { Path ***REMOVED*** from '../core/util/Path';
import { Repo ***REMOVED*** from '../core/Repo';
import { QueryParams ***REMOVED*** from '../core/view/QueryParams';
import { Reference ***REMOVED*** from './Reference';
import { DataSnapshot ***REMOVED*** from './DataSnapshot';
export interface SnapshotCallback {
    (a: DataSnapshot, b?: string | null): any;
***REMOVED***
/**
 * A Query represents a filter to be applied to a firebase location.  This object purely represents the
 * query expression (and exposes our public API to build the query).  The actual query logic is in ViewBase.js.
 *
 * Since every Firebase reference is a query, Firebase inherits from this object.
 */
export declare class Query {
    repo: Repo;
    path: Path;
    private queryParams_;
    private orderByCalled_;
    static __referenceConstructor: any;
    constructor(repo: Repo, path: Path, queryParams_: QueryParams, orderByCalled_: boolean);
    /**
     * Validates start/end values for queries.
     * @param {!QueryParams***REMOVED*** params
     * @private
     */
    private static validateQueryEndpoints_;
    /**
     * Validates that limit* has been called with the correct combination of parameters
     * @param {!QueryParams***REMOVED*** params
     * @private
     */
    private static validateLimit_;
    /**
     * Validates that no other order by call has been made
     * @param {!string***REMOVED*** fnName
     * @private
     */
    private validateNoPreviousOrderByCall_;
    /**
     * @return {!QueryParams***REMOVED***
     */
    getQueryParams(): QueryParams;
    /**
     * @return {!Reference***REMOVED***
     */
    getRef(): Reference;
    /**
     * @param {!string***REMOVED*** eventType
     * @param {!function(DataSnapshot, string=)***REMOVED*** callback
     * @param {(function(Error)|Object)=***REMOVED*** cancelCallbackOrContext
     * @param {Object=***REMOVED*** context
     * @return {!function(DataSnapshot, string=)***REMOVED***
     */
    on(eventType: string, callback: SnapshotCallback, cancelCallbackOrContext?: ((a: Error) => any) | Object | null, context?: Object | null): SnapshotCallback;
    /**
     * @param {!function(!DataSnapshot)***REMOVED*** callback
     * @param {?function(Error)***REMOVED*** cancelCallback
     * @param {?Object***REMOVED*** context
     * @protected
     */
    protected onValueEvent(callback: (a: DataSnapshot) => void, cancelCallback: ((a: Error) => void) | null, context: Object | null): void;
    /**
     * @param {!Object.<string, !function(!DataSnapshot, ?string)>***REMOVED*** callbacks
     * @param {?function(Error)***REMOVED*** cancelCallback
     * @param {?Object***REMOVED*** context
     * @protected
     */
    onChildEvent(callbacks: {
        [k: string]: SnapshotCallback;
  ***REMOVED***, cancelCallback: ((a: Error) => any) | null, context: Object | null): void;
    /**
     * @param {string=***REMOVED*** eventType
     * @param {(function(!DataSnapshot, ?string=))=***REMOVED*** callback
     * @param {Object=***REMOVED*** context
     */
    off(eventType?: string, callback?: SnapshotCallback, context?: Object | null): void;
    /**
     * Attaches a listener, waits for the first event, and then removes the listener
     * @param {!string***REMOVED*** eventType
     * @param {!function(!DataSnapshot, string=)***REMOVED*** userCallback
     * @param failureCallbackOrContext
     * @param context
     * @return {!firebase.Promise***REMOVED***
     */
    once(eventType: string, userCallback?: SnapshotCallback, failureCallbackOrContext?: ((a: Error) => void) | Object | null, context?: Object | null): Promise<DataSnapshot>;
    /**
     * Set a limit and anchor it to the start of the window.
     * @param {!number***REMOVED*** limit
     * @return {!Query***REMOVED***
     */
    limitToFirst(limit: number): Query;
    /**
     * Set a limit and anchor it to the end of the window.
     * @param {!number***REMOVED*** limit
     * @return {!Query***REMOVED***
     */
    limitToLast(limit: number): Query;
    /**
     * Given a child path, return a new query ordered by the specified grandchild path.
     * @param {!string***REMOVED*** path
     * @return {!Query***REMOVED***
     */
    orderByChild(path: string): Query;
    /**
     * Return a new query ordered by the KeyIndex
     * @return {!Query***REMOVED***
     */
    orderByKey(): Query;
    /**
     * Return a new query ordered by the PriorityIndex
     * @return {!Query***REMOVED***
     */
    orderByPriority(): Query;
    /**
     * Return a new query ordered by the ValueIndex
     * @return {!Query***REMOVED***
     */
    orderByValue(): Query;
    /**
     * @param {number|string|boolean|null***REMOVED*** value
     * @param {?string=***REMOVED*** name
     * @return {!Query***REMOVED***
     */
    startAt(value?: number | string | boolean | null, name?: string | null): Query;
    /**
     * @param {number|string|boolean|null***REMOVED*** value
     * @param {?string=***REMOVED*** name
     * @return {!Query***REMOVED***
     */
    endAt(value?: number | string | boolean | null, name?: string | null): Query;
    /**
     * Load the selection of children with exactly the specified value, and, optionally,
     * the specified name.
     * @param {number|string|boolean|null***REMOVED*** value
     * @param {string=***REMOVED*** name
     * @return {!Query***REMOVED***
     */
    equalTo(value: number | string | boolean | null, name?: string): Query;
    /**
     * @return {!string***REMOVED*** URL for this location.
     */
    toString(): string;
    toJSON(): string;
    /**
     * An object representation of the query parameters used by this Query.
     * @return {!Object***REMOVED***
     */
    queryObject(): Object;
    /**
     * @return {!string***REMOVED***
     */
    queryIdentifier(): string;
    /**
     * Return true if this query and the provided query are equivalent; otherwise, return false.
     * @param {Query***REMOVED*** other
     * @return {boolean***REMOVED***
     */
    isEqual(other: Query): boolean;
    /**
     * Helper used by .on and .once to extract the context and or cancel arguments.
     * @param {!string***REMOVED*** fnName The function name (on or once)
     * @param {(function(Error)|Object)=***REMOVED*** cancelOrContext
     * @param {Object=***REMOVED*** context
     * @return {{cancel: ?function(Error), context: ?Object***REMOVED******REMOVED***
     * @private
     */
    private static getCancelAndContextArgs_;
    readonly ref: Reference;
***REMOVED***
