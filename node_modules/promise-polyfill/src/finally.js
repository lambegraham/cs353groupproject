/**
 * @this {Promise***REMOVED***
 */
function finallyConstructor(callback) {
  var constructor = this.constructor;
  return this.then(
    function(value) {
      // @ts-ignore
      return constructor.resolve(callback()).then(function() {
        return value;
    ***REMOVED***);
  ***REMOVED***,
    function(reason) {
      // @ts-ignore
      return constructor.resolve(callback()).then(function() {
        // @ts-ignore
        return constructor.reject(reason);
    ***REMOVED***);
  ***REMOVED***
  );
***REMOVED***

export default finallyConstructor;
