import Promise from './index';
import promiseFinally from './finally';

/** @suppress {undefinedVars***REMOVED*** */
var globalNS = (function() {
  // the only reliable means to get the global object is
  // `Function('return this')()`
  // However, this causes CSP violations in Chrome apps.
  if (typeof self !== 'undefined') {
    return self;
***REMOVED***
  if (typeof window !== 'undefined') {
    return window;
***REMOVED***
  if (typeof global !== 'undefined') {
    return global;
***REMOVED***
  throw new Error('unable to locate global object');
***REMOVED***)();

if (!('Promise' in globalNS)) {
  globalNS['Promise'] = Promise;
***REMOVED*** else if (!globalNS.Promise.prototype['finally']) {
  globalNS.Promise.prototype['finally'] = promiseFinally;
***REMOVED***
